import{r as e,j as s,ag as t,ah as a,ai as r,a4 as i,t as n,ac as o,w as l,K as d,a1 as c,aj as m,I as p,ak as u,al as x,am as h,a7 as g}from"./react-vendor-drHbM4W2.js";import{a as j,c as f,G as b,H as v,C as N,B as y}from"../index-BAX_4uYr.js";import{C}from"./code-terminal-BB-wF4zY.js";import{A as w}from"./animation-utils-CaHUe8cS.js";import{m as S,A as k}from"./animation-BACVyl4v.js";import{t as P,o as O,n as F,b as M,r as A,s as R,a as I}from"./forms-BhhQTvr8.js";import{I as E}from"./input-C3rb1T11.js";import{b as L}from"./ui-HwI1BfCO.js";const V=L("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=e.forwardRef(({className:e,...a},r)=>s.jsx(t,{ref:r,className:j(V(),e),...a}));z.displayName=t.displayName;const J=e.forwardRef(({className:e,...t},i)=>s.jsx(a,{className:j("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:i,children:s.jsx(r,{className:j("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));J.displayName=a.displayName;const T={macos:[{id:"install",title:"Install Promptliano",description:"Install Promptliano globally via npm",command:"npm install -g promptliano"},{id:"init",title:"Initialize Promptliano",description:"Set up Promptliano in your home directory",command:"promptliano init"},{id:"start",title:"Start the MCP Server",description:"Launch Promptliano as an MCP server",command:"promptliano start --mcp"}],windows:[{id:"install",title:"Install Promptliano",description:"Install Promptliano globally via npm",command:"npm install -g promptliano",note:"Run in Administrator mode if you encounter permission issues"},{id:"init",title:"Initialize Promptliano",description:"Set up Promptliano in your home directory",command:"promptliano init"},{id:"start",title:"Start the MCP Server",description:"Launch Promptliano as an MCP server",command:"promptliano start --mcp"}],linux:[{id:"install",title:"Install Promptliano",description:"Install Promptliano globally via npm",command:"sudo npm install -g promptliano"},{id:"init",title:"Initialize Promptliano",description:"Set up Promptliano in your home directory",command:"promptliano init"},{id:"start",title:"Start the MCP Server",description:"Launch Promptliano as an MCP server",command:"promptliano start --mcp"}]},D={vscode:[{id:"extension",title:"Install MCP Extension",description:"Install the official MCP extension from the VS Code marketplace",command:"code --install-extension anthropic.mcp-client"},{id:"config",title:"Configure MCP Settings",description:"Add Promptliano to your VS Code settings",code:JSON.stringify({"mcp.servers":{promptliano:{command:"promptliano",args:["start","--mcp"],cwd:"~"}}},null,2),language:"json",filename:"settings.json"}],cursor:[{id:"config",title:"Configure Cursor Settings",description:"Add Promptliano to your Cursor configuration",code:JSON.stringify({mcp:{servers:{promptliano:{command:"promptliano",args:["start","--mcp"]}}}},null,2),language:"json",filename:"~/.cursor/config.json"}],"claude-desktop":[{id:"config",title:"Configure Claude Desktop",description:"Add Promptliano to your Claude Desktop MCP settings",code:JSON.stringify({mcpServers:{promptliano:{command:"promptliano",args:["start","--mcp"],env:{NODE_ENV:"production"}}}},null,2),language:"json",filename:"~/Library/Application Support/Claude/mcp.json",note:"On Windows: %APPDATA%\\Claude\\mcp.json"}],"claude-code":[{id:"config",title:"Configure Claude Code",description:"Claude Code automatically detects MCP servers",code:JSON.stringify({mcpServers:{promptliano:{command:"promptliano",args:["start","--mcp"]}}},null,2),language:"json",filename:"~/.claude-code/mcp.json"}]};function G(){const[t,a]=e.useState("macos"),[r,m]=e.useState("vscode"),[p,u]=e.useState(0),[x,h]=e.useState([]),[g,j]=e.useState([]),y=[...T[t],...D[r]],P=async(e,s)=>{await navigator.clipboard.writeText(e),j([...g,s]),setTimeout(()=>{j(e=>e.filter(e=>e!==s))},2e3)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Select Your Operating System"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:["macos","windows","linux"].map(e=>s.jsx("button",{onClick:()=>{a(e),u(0),h([])},className:f("p-4 rounded-lg border-2 transition-all capitalize",t===e?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:"macos"===e?"macOS":e},e))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Select Your Editor"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries({vscode:"VS Code",cursor:"Cursor","claude-desktop":"Claude Desktop","claude-code":"Claude Code"}).map(([e,t])=>s.jsx("button",{onClick:()=>{m(e),u(0),h([])},className:f("p-4 rounded-lg border-2 transition-all",r===e?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:t},e))})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",p+1," of ",y.length]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(x.length/y.length*100),"% Complete"]})]}),s.jsx("div",{className:"h-2 bg-border rounded-full overflow-hidden",children:s.jsx(S.div,{className:"h-full bg-primary",animate:{width:x.length/y.length*100+"%"},transition:{duration:.3}})})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(k,{mode:"wait",children:y.map((e,t)=>{const a=t===p,r=(c=e.id,x.includes(c));var c;const m=t<p;return s.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:a||r||m?1:.5,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.jsx(b,{className:f("p-6 transition-all",a&&"border-primary",r&&"border-green-500/50"),children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:f("w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold",r?"bg-green-500 text-white":a?"bg-primary text-primary-foreground":"bg-border"),children:r?s.jsx(i,{className:"w-4 h-4"}):t+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:e.title}),s.jsx("p",{className:"text-muted-foreground mb-4",children:e.description}),e.command&&s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg blur-xl opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative bg-black/50 backdrop-blur rounded-lg p-4 font-mono text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(n,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]}),s.jsx("code",{className:"text-green-400",children:e.command}),s.jsx("button",{onClick:()=>P(e.command,e.id),className:"absolute top-4 right-4 p-2 rounded hover:bg-white/10 transition-colors",children:g.includes(e.id)?s.jsx(i,{className:"w-4 h-4 text-green-500"}):s.jsx(o,{className:"w-4 h-4"})})]})]}),e.code&&s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-primary/10 rounded-lg blur-xl opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsx(C,{code:e.code,language:e.language||"json",filename:e.filename}),s.jsx("button",{onClick:()=>P(e.code,e.id),className:"absolute top-4 right-4 p-2 rounded hover:bg-white/10 transition-colors",children:g.includes(e.id)?s.jsx(i,{className:"w-4 h-4 text-green-500"}):s.jsx(o,{className:"w-4 h-4"})})]}),e.note&&s.jsxs("div",{className:"mt-4 flex items-start gap-2 text-sm text-yellow-500",children:[s.jsx(l,{className:"w-4 h-4 mt-0.5"}),s.jsx("span",{children:e.note})]}),a&&s.jsx("div",{className:"mt-4 flex gap-2",children:s.jsxs(v,{onClick:()=>(e=>{x.includes(e)||h([...x,e]),p<y.length-1&&u(p+1)})(e.id),size:"md",children:["Mark Complete",s.jsx(d,{className:"w-4 h-4 ml-1"})]})})]})]})})},e.id)})})}),x.length===y.length&&s.jsx(w,{children:s.jsxs(b,{className:"p-8 text-center border-green-500/50",children:[s.jsx(c,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Setup Complete!"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Promptliano is now integrated with your development environment"}),s.jsx(N,{onClick:()=>window.location.reload(),children:"Start Using Promptliano"})]})})]})}const U=O({serverName:R().min(1,"Server name is required"),command:R().min(1,"Command is required"),args:I(R()).default(["start","--mcp"]),cwd:R().optional(),env:A(R()).optional(),autoStart:M().default(!0),restartOnFailure:M().default(!0),maxRestarts:F().min(0).default(3),timeout:F().min(1e3).default(3e4),capabilities:O({tools:M().default(!0),resources:M().default(!0),prompts:M().default(!0)})});function B(){const[t,a]=e.useState(null),[r,n]=e.useState(!1),[l,d]=e.useState([]),{control:c,handleSubmit:j,watch:f,formState:{errors:N}}=m({resolver:P(U),defaultValues:{serverName:"promptliano",command:"promptliano",args:["start","--mcp"],cwd:"~",autoStart:!0,restartOnFailure:!0,maxRestarts:3,timeout:3e4,capabilities:{tools:!0,resources:!0,prompts:!0}}}),w=(e,s,t)=>{const a=[...l];a[e][s]=t,d(a)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"MCP Configuration Generator"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Generate a custom MCP configuration file for your editor with all the settings you need"})]}),s.jsxs("form",{onSubmit:j(e=>{const s=l.reduce((e,s)=>(s.key&&(e[s.key]=s.value),e),{}),t={mcpServers:{[e.serverName]:{command:e.command,args:e.args.filter(e=>e.trim()),...e.cwd&&{cwd:e.cwd},...Object.keys(s).length>0&&{env:s},settings:{autoStart:e.autoStart,restartOnFailure:e.restartOnFailure,maxRestarts:e.maxRestarts,timeout:e.timeout},capabilities:e.capabilities}}};a(t)}),className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(b,{className:"p-6",children:[s.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(p,{className:"w-5 h-5"}),"Basic Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"serverName",children:"Server Name"}),s.jsx(u,{name:"serverName",control:c,render:({field:e})=>s.jsx(E,{...e,id:"serverName",type:"text",placeholder:"promptliano"})}),N.serverName&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:N.serverName.message})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"command",children:"Command"}),s.jsx(u,{name:"command",control:c,render:({field:e})=>s.jsx(E,{...e,id:"command",type:"text",placeholder:"promptliano"})}),N.command&&s.jsx("p",{className:"text-sm text-red-500 mt-1",children:N.command.message})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"args",children:"Arguments"}),s.jsx(u,{name:"args",control:c,render:({field:e})=>s.jsx(E,{...e,id:"args",value:e.value.join(" "),onChange:s=>e.onChange(s.target.value.split(" ")),type:"text",placeholder:"start --mcp"})})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"cwd",children:"Working Directory"}),s.jsx(u,{name:"cwd",control:c,render:({field:e})=>s.jsx(E,{...e,id:"cwd",type:"text",placeholder:"~"})})]})]})]}),s.jsxs(b,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Advanced Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"autoStart",children:"Auto Start"}),s.jsx(u,{name:"autoStart",control:c,render:({field:e})=>s.jsx(J,{id:"autoStart",checked:e.value,onCheckedChange:e.onChange})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:"restartOnFailure",children:"Restart on Failure"}),s.jsx(u,{name:"restartOnFailure",control:c,render:({field:e})=>s.jsx(J,{id:"restartOnFailure",checked:e.value,onCheckedChange:e.onChange})})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"maxRestarts",children:"Max Restarts"}),s.jsx(u,{name:"maxRestarts",control:c,render:({field:e})=>s.jsx(E,{...e,id:"maxRestarts",type:"number",min:"0"})})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"timeout",children:"Timeout (ms)"}),s.jsx(u,{name:"timeout",control:c,render:({field:e})=>s.jsx(E,{...e,id:"timeout",type:"number",min:"1000",step:"1000"})})]})]})]}),s.jsxs(b,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Environment Variables"}),s.jsxs("div",{className:"space-y-2",children:[l.map((e,t)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"text",value:e.key,onChange:e=>w(t,"key",e.target.value),placeholder:"KEY",className:"flex-1"}),s.jsx(E,{type:"text",value:e.value,onChange:e=>w(t,"value",e.target.value),placeholder:"VALUE",className:"flex-1"}),s.jsx(y,{type:"button",variant:"ghost",size:"sm",onClick:()=>(e=>{d(l.filter((s,t)=>t!==e))})(t),className:"text-red-500 hover:bg-red-500/10 hover:text-red-500",children:s.jsx(x,{className:"w-4 h-4"})})]},t)),s.jsxs(y,{type:"button",variant:"outline",onClick:()=>{d([...l,{key:"",value:""}])},className:"w-full border-dashed hover:border-primary hover:bg-primary/5",children:[s.jsx(h,{className:"w-4 h-4 mr-2"}),"Add Environment Variable"]})]})]}),s.jsxs(b,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Capabilities"}),s.jsx("div",{className:"space-y-4",children:["tools","resources","prompts"].map(e=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{htmlFor:`capability-${e}`,className:"capitalize",children:e}),s.jsx(u,{name:`capabilities.${e}`,control:c,render:({field:t})=>s.jsx(J,{id:`capability-${e}`,checked:t.value,onCheckedChange:t.onChange})})]},e))})]}),s.jsx(v,{type:"submit",className:"w-full",children:"Generate Configuration"})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(b,{className:"p-6 sticky top-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Generated Configuration"}),t&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:async()=>{t&&(await navigator.clipboard.writeText(JSON.stringify(t,null,2)),n(!0),setTimeout(()=>n(!1),2e3))},className:"p-2 rounded-lg hover:bg-primary/10 transition-colors",children:r?s.jsx(i,{className:"w-4 h-4 text-green-500"}):s.jsx(o,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>{if(t){const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="mcp.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}},className:"p-2 rounded-lg hover:bg-primary/10 transition-colors",children:s.jsx(g,{className:"w-4 h-4"})})]})]}),t?s.jsx(C,{code:JSON.stringify(t,null,2),language:"json",filename:"mcp.json"}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(p,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:'Fill out the form and click "Generate Configuration" to see your custom MCP config'})]})]})})]})]})}export{B as C,G as S};
